
---

# ๐ ะกะธััะตะผะฐ ะพะฑะผะตะฝะฐ ัะพะพะฑัะตะฝะธัะผะธ Raspberry Pi โ STM32 โ Arduino

## ๐ ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ

ะัะพะตะบั ัะตะฐะปะธะทัะตั ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ะผะตะถะดั **Raspberry Pi**, **STM32** ะธ ะฝะตัะบะพะปัะบะธะผะธ **Arduino**, ะฟะพะดะบะปัััะฝะฝัะผะธ ะฟะพ ัะธะฝะต **I2C**.
Raspberry Pi ะพัะฟัะฐะฒะปัะตั ะบะพะผะฐะฝะดั STM32 ัะตัะตะท **USART**, STM32 ะฟัะธะฝะธะผะฐะตั ะธั ะธ ะฟะตัะตััะปะฐะตั ะฝัะถะฝะพะน Arduino ะฟะพ **I2C**, ะฐ Arduino ะฒัะฟะพะปะฝัะตั ะบะพะผะฐะฝะดั ะธ ะฒะพะทะฒัะฐัะฐะตั ะฟะพะดัะฒะตัะถะดะตะฝะธะต.

ะกะธััะตะผะฐ ะฟะพะดะดะตัะถะธะฒะฐะตั ะดะตะฒััั ะทะพะฝ ัะฟัะฐะฒะปะตะฝะธั (ะฟะพ ะพะดะฝะพะน Arduino ะฝะฐ ะบะฐะถะดัั ะทะพะฝั).
ะะฐะถะดะฐั Arduino ะธะผะตะตั ัะฒะพะน I2C-ะฐะดัะตั, ะฐ STM32 ะฒััััะฟะฐะตั ะฒ ัะพะปะธ ะผะฐััะตัะฐ ัะธะฝั.
---

## โ๏ธ ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั


ะะฐ ัะฐัะฑะตัะธ:

send_command_to_stm32(arduino_number, scenario_number)

send_command_to_stm32(3, 0x05)

---

## โ๏ธ ะะฑัะฐั ััะตะผะฐ ัะฐะฑะพัั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     Raspberry Pi        โ
โ  (ะพัะฟัะฐะฒะบะฐ ะฟะพ UART)     โ
โโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
           โ USART
โโโโโโโโโโโโผโโโโโโโโโโโโโโโ
โ         STM32           โ
โ (ะฟัะธัะผ, ะพะฑัะฐะฑะพัะบะฐ, I2C) โ
โโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
           โ I2C-ัะธะฝะฐ
โโโโโโโโโโโโผโโโโโโโโโโโโโโโ
โ        Arduino #1        โ (ะะพะฝะฐ 1, 0x21)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ        Arduino #2        โ (ะะพะฝะฐ 2, 0x22)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ        ...               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ        Arduino #9        โ (ะะพะฝะฐ 9, 0x29)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐งฉ ะัะธะฝัะธะฟ ะพะฑะผะตะฝะฐ ัะพะพะฑัะตะฝะธัะผะธ

### ๐ค 1. Raspberry Pi โ STM32 (ัะตัะตะท UART)

ะกะพะพะฑัะตะฝะธะต ัะพััะพะธั ะธะท **2 ะฑะฐะนั**:

| ะะฐะนั | ะะฟะธัะฐะฝะธะต         | ะัะธะผะตั |
| ---- | ---------------- | ------ |
| 1    | ะะพะผะตั ะทะพะฝั (1โ9) | `0x03` |
| 2    | ะะพะผะตั ะบะพะผะฐะฝะดั    | `0x15` |

---

### ๐ 2. STM32 โ Arduino (ัะตัะตะท I2C)

STM32 ะฟะพะปััะฐะตั ะดะฐะฝะฝัะต, ะพะฟัะตะดะตะปัะตั ะฐะดัะตั ะฝัะถะฝะพะน Arduino ะธ ะฟะตัะตััะปะฐะตั **1 ะฑะฐะนั โ ะบะพะผะฐะฝะดั** ะฝะฐ ะตั I2C-ะฐะดัะตั.

ะะดัะตั ัะฐัััะธััะฒะฐะตััั ัะฐะบ:

```
0x20 + ะฝะพะผะตั_ะทะพะฝั
```

| ะะพะฝะฐ | ะะดัะตั Arduino |
| ---- | ------------- |
| 1    | `0x21`        |
| 2    | `0x22`        |
| ...  | ...           |
| 9    | `0x29`        |

---

### ๐ฌ 3. ะัะฒะตัั ะธ ะบะพะดั ะพัะธะฑะพะบ

ะะพัะปะต ะฒัะฟะพะปะฝะตะฝะธั ะบะพะผะฐะฝะดั Arduino ะพัะฟัะฐะฒะปัะตั 1 ะฑะฐะนั-ะพัะฒะตั STM32, ะบะพัะพััะน ะฟะตัะตััะปะฐะตั ะตะณะพ Raspberry Pi.

| ะะพะด    | ะะฝะฐัะตะฝะธะต                                    |
| ------ | ------------------------------------------- |
| `0x00` | ะะพะดัะฒะตัะถะดะตะฝะธะต (ััะฟะตัะฝะพ)                     |
| `0x01` | ะัะธะฑะบะฐ ะฟะตัะตะดะฐัะธ ะฝะฐ Arduino                  |
| `0x02` | ะัะธะฑะบะฐ ะฟะพะดัะฒะตัะถะดะตะฝะธั ะพั Arduino             |
| `0x03` | ะะตะฒะตัะฝัะน ะฐะดัะตั Arduino (ะทะพะฝะฐ ะฒะฝะต ะดะธะฐะฟะฐะทะพะฝะฐ) |

---




## ๐ฆ ะกัััะบัััะฐ ัะตะฟะพะทะธัะพัะธั

```
โโโ rasbery_py.py       # ะะพะด ะดะปั Raspberry Pi (UART)
โโโ stm.c               # ะะพะด ะดะปั STM32 (UART + I2C)
โโโ arduino_temp.cpp     # ะะพะด ะดะปั Arduino (I2C slave)
โโโ README.md             # ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ
โโโ /docs                 # ะะพะบัะผะตะฝัะฐัะธั, ััะตะผั(ะฒ ะฑัะดััะตะผ)
```

---

## ๐ง ะะพะทะผะพะถะฝัะต ัะปัััะตะฝะธั

* [ ] ะะพะฑะฐะฒะธัั ัะดะพะฑะฝัั ัะตะฐะปะธะทะฐัะธั ััะตะฝะฐัะธะตะฒ: ัะพะทะดะฐัั ัะฐะฑะปะธัั ะฒ ัะพัะผะฐัะต: ะะพะผะตั ััะตะฝะฐัะธั | ะฝะพะผะตั ะฐัะดัะธะฝะพ ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ััะตะฝะฐัะธั (1-9) | ะะฟะธัะฐะฝะธะต ััะตะฝะฐัะธั. 
* [ ] ะะตะฐะปะธะทะพะฒะฐัั ััะฝะบัะธั ะพะฑะตััะบั ะบะพัะพัะฐั ัะฐะผะฐ ะฑัะดะตั ะฝะฐัะพะดะธัั ะฐะดัะตั ะฐัะดัะธะฝะบะธ ะธะท ัะฐะฑะปะธัั: ัะปะตะดะพะฒะฐัะตะปัะฝะพ ะดะปั ะทะฐะฟััะบะฐ ะฝัะถะฝะพะณะพ ััะตะฝะฐัะธั ะฝัะถะฝะพ ะฒัะตะณะพะพ 1 ะฐัะณัะผะตะฝั(ะฝะพะผะตั ััะตะฝะฐัะธั) ะฒะผะตััะพ ะดะฒัั(ะฝะพะผะตั ััะตะฝะฐัะธั, ะฝะพะผะตั ะฐัะดัะธะฝะบะธ ะดะปั ะทะฐะฟััะบะฐ ััะตะฝะฐัะธั) ััะพ ัะฝะธะถะฐะตั ะฒะพะทะผะพะถะฝะพััั ะพัะธะฑะพะบ ะธ ัะผะตะฝััะฐะตั ะบะพะปะธัะตััะฒะพ ะบะพะดะฐ
* [ ] ะะตะฑ-ะธะฝัะตััะตะนั ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ััะฐัััะฐ ะฒัะฟะพะปะฝะตะฝะธั ะบะพะผะฐะฝะด(ะฑัะดะตั ะฟัะธะผะตัะฝะฐั ะฒะธะทัะฐะปะธะทะฐัะธั ะฟะพะดะบะปััะตะฝะฝัั ะฐัะดัะธะฝะพะบ, ะธ ัะต, ะฝะฐ ะบะพัะพััั ััะพ ัะพ ะฒัะฟะพะปะฝัะตััั, ะฑัะดัั ะฟะพะดัะฒะตัะธะฒะฐัััั ะทะตะปะตะฝัะผ, ะฐัะดัะธะฝะบะธ ั ะพัะธะฑะบะพะน - ะบัะฐัะฝัะผ) 

---

## ๐ฌ ะะฒัะพัั 

ะะฒัะพั: *ะกะตัะณะตะตะฒ ะ.ะ / ะบะธะฑะตัะฟะพะปะธะณะพะฝ*


---


